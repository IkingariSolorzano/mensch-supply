ACDiscountApp.PDPage.DisplayTiers=function(){this.DisplayTiersFn=function(){setTimeout(function(){jQuery(".ac__settings__table").remove();var a=jQuery("input[name^=id]:checked, select[name^=id], input[name=id], hidden[name^=id]",jQuery('form[action="/cart/add"]')).val();if(a!=null&&globalFieldsProductPage_AC.productMetafield!="[]"&&globalFieldsProductPage_AC.productMetafield!=null){var t=globalFields.GetTierObject(globalFieldsProductPage_AC.productMetafield,a);t!=null&&t.status&&globalFields.StartEndDateValid(t.start_date,t.end_date)&&(r(t),h(t,a))}},200)},this.OnVariantChange=function(){setTimeout(function(){$(".single-option-selector,.single-option-selector__radio").change(function(){displayTiers.DisplayTiersFn()})},2e3)};var b=function(a,t,s){jQuery(t).before(a)},r=function(a){var t='form[action="/cart/add"]';globalFields.settings.selected_table=="table1"&&b('<table class="ac__settings__table ac_table1" id="ac_table1"><tbody class="ac__tbody"><tr class="ac__tr ac__tr1"><th class="ac__th ac__th1">'+globalFields.settings.table_headers.header1_value+'</th><th class="ac__th ac__th2">'+globalFields.settings.table_headers.header2_value+"</th></tr></tbody></table>",t),globalFields.settings.selected_table=="table2"&&b('<table class="ac__settings__table ac_table2" id="ac_table2"><tbody class="ac__tbody"><tr class="ac__tr ac__tr1"><th class="ac__th ac__th1">'+globalFields.settings.table_headers.header1_value+'</th><th class="ac__th ac__th2">'+globalFields.settings.table_headers.header2_value+'</th><th class="ac__th ac__th3">'+globalFields.settings.table_headers.header3_value+"</th></tr></tbody></table>",t),globalFields.settings.selected_table=="table3"&&b('<table class="ac__settings__table ac_table3" id="ac_table3"><tbody class="ac__tbody"><tr class="ac__tr ac__tr1"><th class="ac__th ac__th1">'+globalFields.settings.table_headers.header1_value+'</th><th class="ac__th ac__th2">'+globalFields.settings.table_headers.header2_value+'</th><th class="ac__th ac__th3">'+globalFields.settings.table_headers.header3_value+"</th></tr></tbody></table>",t),globalFields.settings.selected_table=="table4"&&b('<table class="ac__settings__table ac_table4" id="ac_table4"><tbody class="ac__tbody"></tbody></table>',t)},d=function(a,t){jQuery(t).append(a)},g=function(a,t,s,_,l){var o=a==t?"":"+",c="Buy ",e='<span class="money" data-currency-'+globalFields.currency.toLowerCase()+'="'+globalFields.currencySymbol+s+'" data-currency="'+globalFields.currency+'">'+globalFields.currencySymbol+s+"</span>";if(globalFields.settings.selected_table=="table1"&&d('<tr class="ac__tr ac__tr'+(l+1)+'"> <td class="ac__td ac__td1">'+a+o+'</td><td class="ac__td ac__td2">'+_+"</td></tr>","#ac_table1 .ac__tbody"),globalFields.settings.selected_table=="table2"&&d('<tr class="ac__tr ac__tr'+(l+1)+'"> <td class="ac__td ac__td1">'+a+'</td><td class="ac__td ac__td2">'+t+'</td><td class="ac__td ac__td3">'+_+"</td></tr>","#ac_table2 .ac__tbody"),globalFields.settings.selected_table=="table3"&&d('<tr class="ac__tr ac__tr'+(l+1)+'"> <td class="ac__td ac__td1">'+a+o+'</td><td class="ac__td ac__td2">'+e+'</td><td class="ac__td ac__td3">'+_+"</td></tr>","#ac_table3 .ac__tbody"),globalFields.settings.selected_table=="table4"){var n=a+"-"+t;t=="+"&&(n=a+"+"),d('<tr class="ac__tr ac__tr'+l+'"> <td class="ac__td ac__td1">'+globalFields.settings.table_body.body1_value+" "+a+" "+globalFields.settings.table_body.body2_value+" "+_+"</td></tr>","#ac_table4")}},h=function(a,t){var s=globalFieldsProductPage_AC.variantsPriceArray_PD[t];for(s=s/100,i=0;i<a.tier_min.length;i++){var _=!1,l=Number(a.tier_values[i]),o=parseInt(a.tier_min[i]),c=a.tier_max[i],e=0;if(c!="max"?c=parseInt(c):c="+",a.discount_type=="percentage"){e=Number(s.toFixed(2));var n=parseFloat(l)/100,y=Number(parseFloat(n*e).toFixed(2));e=e-y,e<=0?(e=0,l="100%",_=!0,c="+"):(e=e.toFixed(2),l=l+"% OFF")}else a.discount_type=="fixed_price"?(e=l.toFixed(2),l=globalFields.currencySymbol+l):(e=Number((s-l).toFixed(2)),e<=0?(e=0,l=globalFields.currencySymbol+s,_=!0,c="+"):(e=e.toFixed(2),l=globalFields.currencySymbol+l));if(g(o,c,e,l,i+1),_)break}}};var globalFieldsProductPage_AC=new ACDiscountApp.PDPage.Global,displayTiers=new ACDiscountApp.PDPage.DisplayTiers;displayTiers.DisplayTiersFn(),displayTiers.OnVariantChange();
//# sourceMappingURL=/s/files/1/0593/6368/8609/t/4/assets/ac-tiered-product.js.map?v=143443083369875436191631199283
